[include]
  path = ~/.user.gitconfig
[push]
    default = simple
[remote "origin"]
    push = HEAD
[branch]
    autosetupmerge = true
[color]
    branch = auto
    diff = auto
    ui = true
[fetch]
    prune = true
[pull]
    rebase = true
[alias]
    # commit helpers
    vcommit = "commit -v"
    amend = "vcommit --amend"
    amend-add = "amend -a"
    reword = "amend"
    fixup = "commit --amend --no-edit"
    fixup-add = "fixup -a"

    # branch helpers
    abbrev-name =  rev-parse --abbrev-ref
    branch-name =  abbrev-name HEAD
    default-branch-remote = abbrev-name origin/HEAD
    default-branch-local = !basename $(git default-branch-remote)
    delete-branch =  branch -D

    #push helpers
    push-to-new = "!git push -u origin $(git branch-name)"
    forcepush = "push --force-with-lease"

    # log helpers
    lgnormal = log
    lgpretty = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit
    refloglog = "!git log HEAD@{1}..HEAD@{0}"
    show-filenames = show --name-only

    # reset helpers
    maybe-back-one = reset HEAD~1
    back-one = maybe-back-one --hard
    reset-remote = !git reset --hard origin/$(git branch-name)
    reset-main = !git reset --hard $(git default-branch-remote)

    # wip helpers
    wip = "!w() {\
      git add -A; \
      git commit --no-verify --no-gpg-sign -m \"--wip-- [skip ci]\"; \
    }; w"
    unwip = "!u(){\
      git log -n 1 | grep -q -c wip && git backone ; \
    }; u"

    # fetch helpers
    new-status = !git fetch && git status
    checkout-status = !git fetch && git checkout $1 && git status
    pull-unwip = !git pull --rebase && git unwip && git status
    wip-push = !git wip && git forcepush
    checkout-unwip = !git checkout $1 && git plw!
    checkout-default = !git checkout $(git default-branch-local) && git new-status

    # smaller
    ah = "add ."
    com = "commit -m"
    coma = "commit -am"
    cof = "fixup"
    cofa = "fixup-add"
    cor = "reword"
    ppf = "forcepush"
    ppn = "push-to-new"
    pp = push
    st = status
    rf = reflog
    cho = checkout
    chb = checkout -b
    rbi = rebase -i
    rbc = rebase --continue
    rba = rebase --abort
    rh- = reset --hard
    cfd = clean -fd

    
